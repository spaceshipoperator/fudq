#+TITLE: fudq
#+OPTIONS: H:3 num:nil toc:nil

Starting with [[https://gist.github.com/1327195][one of]] the simplest [[https://github.com/hassox/warden/wiki/Examples][examples]] using [[https://github.com/hassox/warden/wiki][warden]] (for user authentication) with [[http://www.sinatrarb.com/][sinatra]],
#+begin_src sh :exports none
echo "tmp/*" >> .gitignore
mkdir tmp
git clone https://gist.github.com/8043506.git tmp/gist
cp tmp/gist/gistfile1.rb fudq.rb
#+end_src

[[https://github.com/spaceshipoperator/fudq][fudq]] intends to be nothing more than fundamentally users, datasources and queries.

More specifically:

A user can create datasources and modify and/or share datasources that he or she has created.

A user can create queries and edit queries he or she has created against an available datasource.

A query may be shared in either of two ways, it's "definition" (read only text of the query itself) and/or its "results" (given optional input parameters)

Any shared queries against shared data sources are executable by everyone

** tasks
*** TODO complete query delete, need to handle data source delete a bit different
data source cannot be deleted if queries reference it...else orphaned
*** TODO complete execute query, return results in json dump
*** TODO link to execute query in home list and on query edit page, as appropriate
*** TODO new (or register) user process, post username, email, password, confirm
*** TODO need to get some [[http://www.sinatrarb.com/testing.html][unit tests]] (but start with the model)
*** TODO rake task to initialize (or migrate) database
*** TODO create hash of user password (maybe with [[http://code.google.com/p/crypto-js/#Quick-start_Guide][crypto-js]])
*** TODO resolve "SECURITY WARNING: No secret option provided to Rack::Session::Cookie."
*** TODO DRY up slim fo data_source and query checkbox and select lists
*** TODO DRY up save query and data source logic
*** DONE factor query_action out of User
